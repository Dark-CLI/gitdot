# Reload config with Ctrl-s r
unbind r
bind r source-file ~/.tmux.conf

# Set prefix to Ctrl-s
unbind C-b
set -g prefix C-s
bind C-s send-prefix

# kill a window
bind & kill-window

# Vertical split (right)
bind | split-window -h

# Horizontal split (below)
bind - split-window -v

# Bind this to any key combo (without prefix - optional)
bind -n C-b run-shell -b \
  "tmux list-windows -F \"##I:##W\" | fzf-tmux | cut -d \":\" -f 1 | xargs tmux select-window -t"

# Creating new session
bind C command-prompt -p "New session name:" "new-session -s '%%'"

# start from 1
set -g base-index 1
setw -g pane-base-index 1


setw -g mode-keys vi
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# DESIGN TWEAKS

# don't do anything when a 'bell' rings
set -g visual-activity off
set -g visual-bell off
set -g visual-silence off
setw -g monitor-activity off
set -g bell-action none

# clock mode
setw -g clock-mode-colour yellow

# copy mode
setw -g mode-style 'fg=red bg=default bold'

# panes
set -g pane-border-style 'fg=red'
set -g pane-active-border-style 'fg=yellow'

# statusbar
set -g status-position bottom
set -g status-justify left
set -g status-style 'fg=red bg=default'

set -g status-left ''
set -g status-left-length 10

set -g status-right-style 'fg=yellow bg=default'
set -g status-right '%Y-%m-%d %H:%M '
set -g status-right-length 50

setw -g window-status-current-style 'fg=red bg=default'
setw -g window-status-current-format ' #I #W #F '

setw -g window-status-style 'fg=white bg=default'
setw -g window-status-format ' #I #[fg=white]#W #[fg=yellow]#F '

setw -g window-status-bell-style 'fg=yellow bg=default bold'

# messages
set -g message-style 'fg=yellow bg=default bold'

# === NICE SCROLLING AND COPY ===

# Enable mouse support
set -g mouse on

# Use vi keys in copy mode
setw -g mode-keys vi

# Scroll with mouse wheel
bind -T copy-mode-vi WheelUpPane send-keys -X scroll-up
bind -T copy-mode-vi WheelDownPane send-keys -X scroll-down

# Shift+PageUp/PageDown support
bind -n S-PageUp copy-mode
bind -T copy-mode-vi S-PageUp send-keys -X page-up
bind -T copy-mode-vi S-PageDown send-keys -X page-down

# Vim-style visual selection
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection
